{"version":3,"sources":["components/TrayWidget.tsx","components/TrayItemWidget.tsx","DemoCanvasWidget.tsx","components/custom-node-ts/TSCustomNodeModel.ts","components/custom-node-ts/TSCustomNodeWidget.tsx","components/custom-node-ts/TSCustomNodeFactory.tsx","components/BodyWidget.tsx","index.tsx"],"names":["S","styled","div","TrayWidget","Tray","this","props","children","React","p","color","TrayItemWidget","draggable","onDragStart","event","dataTransfer","setData","JSON","stringify","model","className","name","background","css","DemoCanvasWidget","console","log","styles","Expand","Container","TSCustomNodeModel","options","type","includes","addPort","DefaultPortModel","in","data","NodeModel","TSCustomNodeWidget","state","node","engine","port","getPort","style","visibility","backgroundColor","TSCustomNodeFactory","initialConfig","AbstractReactFactory","FullscreenCanvas","BodyWidget","diagramEngine","createEngine","lastNodeSelected","getNodeFactories","registerFactory","DiagramModel","registerListener","nodesUpdated","sendToStreamlit","bind","linksUpdated","setModel","getModel","Streamlit","setFrameHeight","setState","entity","id","send_to_streamlit","serialize","setComponentValue","Body","Content","Layer","onDrop","parse","getData","point","getRelativeMousePoint","setPosition","selectionChanged","selectionChangedListner","addNode","forceUpdate","onDragOver","preventDefault","StreamlitComponentBase","withStreamlitConnection","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f512b89.chunk.js","sourcesContent":["import * as React from 'react';\nimport styled from '@emotion/styled';\n\nnamespace S {\n\texport const Tray = styled.div`\n\t\tmin-width: 200px;\n\t\tbackground: rgb(20, 20, 20);\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t\tpadding: 10px;\n\t`;\n}\n\nexport class TrayWidget extends React.Component {\n\trender() {\n\t\treturn <S.Tray>{this.props.children}</S.Tray>;\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport interface TrayItemWidgetProps {\n\tmodel: any;\n\tcolor?: any;\n\tname: string;\n}\n\nnamespace S {\n\texport const Tray = styled.div<{ color: string }>`\n\t\tcolor: white;\n\t\tfont-family: Helvetica, Arial;\n\t\tpadding: 5px;\n\t\tmargin: 0px 10px;\n\t\tborder: solid 1px ${(p) => p.color};\n\t\tborder-radius: 5px;\n\t\tmargin-top: 4px;\n\t\tcursor: pointer;\n\t`;\n\t\n}\n\nexport class TrayItemWidget extends React.Component<TrayItemWidgetProps> {\n\trender() {\n\t\treturn (\n\t\t\t<S.Tray\n\t\t\t\tcolor={this.props.color}\n\t\t\t\tdraggable={true}\n\t\t\t\tonDragStart={(event) => {\n\t\t\t\t\tevent.dataTransfer.setData('storm-diagram-node', JSON.stringify(this.props.model));\n\t\t\t\t}}\n\t\t\t\tclassName=\"tray-item\">\n\t\t\t\t{this.props.name}\n\t\t\t</S.Tray>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { css, Global } from '@emotion/react';\n\nexport interface DemoCanvasWidgetProps {\n\tcolor?: string;\n\tbackground?: string;\n}\n\t\nnamespace S {\n\t// export const Container = styled.div<{ color: string; background: string }>\n\t// `height: 100%;`\n\n\texport const Container = styled.div<{ color: string; background: string }>`\n\t\theight: 100%;\n\t\tbackground-color: ${(p) => p.background};\n\t\tbackground-size: 50px 50px;\n\t\tdisplay: flex;\n\n\t\t> * {\n\t\t\theight: 100%;\n\t\t\tmin-height: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t${(p) => p.color} 25%,\n\t\t\t\t${(p) => p.color} 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t${(p) => p.color} 75%,\n\t\t\t\t${(p) => p.color} 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t${(p) => p.color} 25%,\n\t\t\t\t${(p) => p.color} 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t${(p) => p.color} 75%,\n\t\t\t\t${(p) => p.color} 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t`;\n\t// export const Expand = css``;\n\texport const Expand = css`\n\t\thtml,\n\t\tbody,\n\t\t#root {\n\t\t\theight: 100%;\n\t\t}\n\t`;\n}\n\nexport class DemoCanvasWidget extends React.Component<DemoCanvasWidgetProps> {\n\trender() {\n\t\tconsole.log('rendering node-graph')\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Global styles={S.Expand} />\n\t\t\t\t<S.Container\n\t\t\t\t\tbackground={this.props.background || 'rgb(60, 60, 60)'}\n\t\t\t\t\tcolor={this.props.color || 'rgba(255,255,255, 0.05)'}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</S.Container>\n\t\t\t</>\n\t\t);\n\t}\n}\n","import { NodeModel, DefaultPortModel } from '@projectstorm/react-diagrams';\nimport { BaseModelOptions } from '@projectstorm/react-canvas-core';\n\nexport interface TSCustomNodeModelOptions extends BaseModelOptions {\n\tcolor?: string;\n}\n\nexport class TSCustomNodeModel extends NodeModel {\n\tcolor: string;\n\ttype: string\n\n\tconstructor(options: TSCustomNodeModelOptions = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t});\n\t\tthis.color = options.color || 'red';\n\t\tthis.type = options.type\n\t\t// setup an in and out port\n\t\tconsole.log('here')\n\t\tconsole.log(this.options.type)\n\t\tif ([\"Sales\", \"Conversion\", \"Inventory\"].includes( this.options.type ))\n\t\t\t{\n\t\t\t\tthis.addPort(\n\t\t\t\t\tnew DefaultPortModel({\n\t\t\t\t\t\tin: true,\n\t\t\t\t\t\tname: 'in'\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\tif ([\"Purchase\", \"Conversion\", \"Inventory\"].includes( this.options.type ))\n\t\t\t{\n\t\t\t\tthis.addPort(\n\t\t\t\t\tnew DefaultPortModel({\n\t\t\t\t\t\tin: false,\n\t\t\t\t\t\tname: 'out'\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tcolor: this.color,\n\t\t\ttype: this.type,\n\t\t};\n\t}\n\n\tdeserialize(event : any): void {\n\t\tsuper.deserialize(event);\n\t\tthis.color = event.data.color;\n\t\tthis.type = event.type;\n\t}\n}\n","import * as React from 'react';\nimport { DiagramEngine, PortWidget } from '@projectstorm/react-diagrams-core';\nimport { TSCustomNodeModel } from './TSCustomNodeModel';\n\nexport interface TSCustomNodeWidgetProps {\n\tnode: TSCustomNodeModel;\n\tengine: DiagramEngine;\n}\n\nexport interface TSCustomNodeWidgetState {}\n\nexport class TSCustomNodeWidget extends React.Component<TSCustomNodeWidgetProps, TSCustomNodeWidgetState> {\n\tconstructor(props: TSCustomNodeWidgetProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"custom-node\">\n\t\t\t\t{ [\"Sales\", \"Conversion\", \"Inventory\"].includes( this.props.node.type )\n\t\t\t\t?\t<PortWidget engine={this.props.engine} port={this.props.node.getPort('in')}>\n\t\t\t\t\t\t<div className=\"circle-port\" />\n\t\t\t\t\t</PortWidget>\n\t\t\t\t: <div className=\"circle-port\" style={{ visibility: \"hidden\" }} />\n\t\t\t}\n\n\t\t\t\t{ [\"Purchase\", \"Conversion\", \"Inventory\"].includes( this.props.node.type ) \n\t\t\t\t?\n\t\t\t\t\t<PortWidget engine={this.props.engine} port={this.props.node.getPort('out')}>\n\t\t\t\t\t\t<div className=\"circle-port\" />\n\t\t\t\t\t</PortWidget>\n\t\t\t\t: <div className=\"circle-port\" style={{ visibility: \"hidden\" }} />\n\t\t\t\t}\n\n\t\t\t\t<div className=\"custom-node-color\" style={{ backgroundColor: this.props.node.color }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import * as React from 'react';\nimport { TSCustomNodeModel } from './TSCustomNodeModel';\nimport { TSCustomNodeWidget } from './TSCustomNodeWidget';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\n\nexport class TSCustomNodeFactory extends AbstractReactFactory<TSCustomNodeModel, DiagramEngine> {\n\tconstructor(props:any) {\n\t\tsuper(props.type);\n\t}\n\n\tgenerateModel(initialConfig: any) {\n\t\treturn new TSCustomNodeModel();\n\t}\n\n\tgenerateReactWidget(event :any): JSX.Element {\n\t\treturn <TSCustomNodeWidget engine={this.engine as DiagramEngine} node={event.model} />;\n\t}\n}\n\n\n","import * as React from 'react';\nimport { TrayWidget } from './TrayWidget';\nimport { TrayItemWidget } from './TrayItemWidget';\nimport createEngine, { DiagramModel } from '@projectstorm/react-diagrams';\nimport { CanvasWidget } from '@projectstorm/react-canvas-core';\nimport { DemoCanvasWidget } from '../DemoCanvasWidget';\nimport { TSCustomNodeFactory } from './custom-node-ts/TSCustomNodeFactory';\nimport { TSCustomNodeModel } from './custom-node-ts/TSCustomNodeModel';\n// import * as _ from 'lodash';\nimport {\n\tStreamlit,\n\tStreamlitComponentBase,\n\twithStreamlitConnection,\n  } from \"streamlit-component-lib\"\n\nimport styled from '@emotion/styled';\n\nconst FullscreenCanvas = styled(DemoCanvasWidget)`\n  height: 100%;\n  width: 100%;\n`;\nconst Container = styled.div`\n  height: 800px;\n  width: 100vw;\n`;\n\nexport interface BodyWidgetProps {\n}\n\ninterface BodyWidgetState {\n\tdiagramEngine: any;\n\tlastNodeSelected: string | null\n  }\n\n\nnamespace S {\n\texport const Body = styled.div`\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100%;\n\t`;\n\n\texport const Content = styled.div`\n\t\theight: 100px;\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t`;\n\n\texport const Layer = styled.div`\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t`;\n}\n\nclass BodyWidget extends StreamlitComponentBase<BodyWidgetState> {\n\n\tpublic constructor(props : any) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdiagramEngine: createEngine(),\n\t\t\tlastNodeSelected: null\n\t\t\t}\n\t\tthis.state.diagramEngine.getNodeFactories().registerFactory(new TSCustomNodeFactory({'type': 'Purchase'}) as any);\n\t\tthis.state.diagramEngine.getNodeFactories().registerFactory(new TSCustomNodeFactory({'type': 'Inventory'}) as any);\n\t\tthis.state.diagramEngine.getNodeFactories().registerFactory(new TSCustomNodeFactory({'type': 'Sales'}) as any);\n\t\tthis.state.diagramEngine.getNodeFactories().registerFactory(new TSCustomNodeFactory({'type': 'Conversion'}) as any);\n\n\t\tvar model =  new DiagramModel()\n\t\tmodel.registerListener({\n\t\t\tnodesUpdated: this.sendToStreamlit.bind(this), \n\t\t\tlinksUpdated: this.sendToStreamlit.bind(this),\n\t\t})\n\t\tthis.state.diagramEngine.setModel(model)\n\t\tthis.state.diagramEngine.getModel()\n\t}\n\n\tcomponentDidMount(){\n\t\tStreamlit.setFrameHeight()\n\t}\n\t\n\tselectionChangedListner(event : any) : void {\n\t\tthis.setState({ \n\t\t\tlastNodeSelected: event.entity.options.id \n\t\t\t}, this.sendToStreamlit)\n\t}\n\t\t\n\tsendToStreamlit() : void {\n\t\tvar model = this.state.diagramEngine.getModel()\n\t\tvar send_to_streamlit = JSON.stringify(\n\t\t\t{\"model\" : model.serialize(), 'lastNodeSelected':this.state.lastNodeSelected}\n\t\t\t);\n\t\tconsole.log(\"getting ready to send to streamlit\")\n\t\tStreamlit.setComponentValue(send_to_streamlit);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<S.Body>\n\t\t\t\t<S.Content>\n\t\t\t\t\t<TrayWidget>\n\t\t\t\t\t\t<TrayItemWidget model={{ type: 'Purchase' }} name=\"Purchase\" color=\"rgb(192,0,255)\" />\n\t\t\t\t\t\t<TrayItemWidget model={{ type: 'Inventory' }} name=\"Inventory\" color=\"rgb(192,255,0)\" />\n\t\t\t\t\t\t<TrayItemWidget model={{ type: 'Conversion' }} name=\"Conversion\" color=\"rgb(0,192,255)\" />\n\t\t\t\t\t\t<TrayItemWidget model={{ type: 'Sales' }} name=\"Sales\" color=\"rgb(255,192,0)\" />\n\t\t\t\t\t</TrayWidget>\n\t\t\t\t\t<S.Layer\n\t\t\t\t\t\tonDrop={(event) => {\n\t\t\t\t\t\t\tvar data = JSON.parse(event.dataTransfer.getData('storm-diagram-node'));\n\t\t\t\t\t\t\t// var nodesCount = _.keys(this.state.diagramEngine.getModel().getNodes()).length;\n\t\t\t\t\t\t\tvar node: TSCustomNodeModel;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (data.type === 'Purchase') {\n\t\t\t\t\t\t\t\tnode = new TSCustomNodeModel({ color: 'rgb(192,0,255)' , type: data.type });\n\t\t\t\t\t\t\t}if (data.type === 'Inventory') {\n\t\t\t\t\t\t\t\tnode = new TSCustomNodeModel({ color: 'rgb(192,255, 0)' , type: data.type  });\n\t\t\t\t\t\t\t}if (data.type === 'Conversion') {\n\t\t\t\t\t\t\t\tnode = new TSCustomNodeModel({ color: 'rgb(0,192,255)' , type: data.type  });\n\t\t\t\t\t\t\t}if (data.type === 'Sales') {\n\t\t\t\t\t\t\t\tnode = new TSCustomNodeModel({ color: 'rgb(255,192,0)' , type: data.type  });\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar point = this.state.diagramEngine.getRelativeMousePoint(event);\n\t\t\t\t\t\t\tnode.setPosition(point);\n\t\t\t\t\t\t\tnode.registerListener({\n\t\t\t\t\t\t\t\tselectionChanged: this.selectionChangedListner.bind(this)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.state.diagramEngine.getModel().addNode(node);\n\t\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonDragOver={(event) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t<FullscreenCanvas>\n\t\t\t\t\t\t\t<CanvasWidget engine={this.state.diagramEngine} />\n\t\t\t\t\t\t</FullscreenCanvas>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</S.Layer>\n\t\t\t\t</S.Content>\n\t\t\t</S.Body>\n\t\t);\n\t}\n}\n\nexport default withStreamlitConnection(BodyWidget);\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport BodyWidget from './components/BodyWidget';\nimport \"./index.css\";\nimport {\n\tStreamlit,\n\tStreamlitComponentBase,\n\twithStreamlitConnection,\n  } from \"streamlit-component-lib\"\n\nReactDOM.render(\n    <React.StrictMode>\n        {/* <div style={{ width: \"1000px\", height: \"1000px\", color: \"red\"}}>Hi</div> */}\n        <BodyWidget />\n    </React.StrictMode>\n, document.getElementById('root'));\n\n"],"sourceRoot":""}